import{_ as h}from"./nuxt-link.xwN0o8n0.js";import{u as g,q as f}from"./query.i82DHyjG.js";import{_ as x,j as v,k,l as b,e as a,o as p,c as d,h as w,u as _,F as Y,a as A,w as S,n as C,t as m,p as I,m as N}from"./entry.Zub1fVjJ.js";import"./preview.FaCJb25I.js";const q=o=>(I("data-v-938e48dc"),o=o(),N(),o),B={class:"not-prose font-mono"},D=q(()=>a("div",{class:"column text-gray-400 text-sm"},[a("div",null,"date"),a("div",null,"title")],-1)),F={__name:"blog-posts",props:{limit:{type:Number,default:null}},async setup(o){let r,n;const i=o,{data:u}=([r,n]=v(()=>g("blog-list",()=>{const e=f("/posts").where({_path:{$ne:"/posts"}}).only(["_path","title","publishedAt"]).sort({publishedAt:-1});return i.limit&&e.limit(i.limit),e.find()})),r=await r,n(),r),c=k(()=>{if(!u.value)return[];const e=[];let l=null;for(const s of u.value){const t=new Date(s.publishedAt).getFullYear(),y=t!==l;s.displayYear=y,s.year=t,e.push(s),l=t}return e});return(e,l)=>{const s=h;return b(e.$slots,"default",{posts:_(c)},()=>[a("section",B,[D,a("ul",null,[(p(!0),d(Y,null,w(_(c),t=>(p(),d("li",{key:t._path},[A(s,{to:t._path,class:"column group hover:bg-gray-100 dark:hover:bg-gray-800"},{default:S(()=>[a("div",{class:C({"text-white group-hover:text-gray-100 dark:text-gray-900 dark:group-hover:text-gray-800":!t.displayYear,"text-gray-400 dark:text-gray-500":t.displayYear})},m(t.year),3),a("div",null,m(t.title),1)]),_:2},1032,["to"])]))),128))])])],!0)}}},z=x(F,[["__scopeId","data-v-938e48dc"]]);export{z as default};
