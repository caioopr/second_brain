[{"data":1,"prerenderedAt":562},["ShallowReactive",2],{"content-query-DTq5ZcDjxK":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"head":10,"publishedAt":18,"tags":14,"collections":19,"toc":20,"body":21,"_type":557,"_id":558,"_source":559,"_file":560,"_extension":561},"/posts/coding-every-day-until-i-get-a-job-day-12","posts",false,"","Coding Every Day Until I Get a Job - Day 12","Log of Coding Every Day Challenge Day 12",{"meta":11},[12,15],{"name":13,"content":14},"keywords","challenge,daily-coding,java",{"name":16,"content":17},"author","Caio Prado","2025-01-19T17:15:00.000Z","Coding Every Day Until I Get a Job",true,{"type":22,"children":23,"toc":552},"root",[24,34,42,48,55,71,546],{"type":25,"tag":26,"props":27,"children":28},"element","h1",{"id":7},[29],{"type":25,"tag":30,"props":31,"children":33},"binding",{"value":32},"$doc.title",[],{"type":25,"tag":35,"props":36,"children":38},"h2",{"id":37},"log",[39],{"type":40,"value":41},"text","Log",{"type":25,"tag":43,"props":44,"children":45},"p",{},[46],{"type":40,"value":47},"Today i worked on a side project.",{"type":25,"tag":49,"props":50,"children":52},"h3",{"id":51},"side-project",[53],{"type":40,"value":54},"Side Project",{"type":25,"tag":43,"props":56,"children":57},{},[58,60,69],{"type":40,"value":59},"On the ",{"type":25,"tag":61,"props":62,"children":66},"a",{"href":63,"rel":64},"https://github.com/caioopr/ixtore",[65],"nofollow",[67],{"type":40,"value":68},"Ixtore",{"type":40,"value":70}," project, i needed to check if the id of the user trying to call some product-related operation was the same as the user id referenced by the product. Since i'm using Spring Security, in every controller route handler method, i have access to an object of type \"Authentication\" as a parameter, in which i can retrieve the current logged user's id, and pass it to the service layer method, so it can perform the verification.",{"type":25,"tag":72,"props":73,"children":77},"pre",{"className":74,"code":75,"language":76,"meta":7,"style":7},"language-java shiki shiki-themes min-light min-dark","@RestController  \n@RequestMapping(\"/api/products\")  \npublic class ProductsController {  \n  \n    @Autowired  \n    final private ProductsService productsService;  \n  \n    public ProductsController(ProductsService productsService){  \n        this.productsService = productsService;  \n    }  \n   \n    @GetMapping(\"{code}\")  \n    @ResponseStatus(HttpStatus.OK)  \n    public ProductEntity getProductsByCode(@PathVariable(\"code\") String code, Authentication currentUser) throws ProductNotFoundException{  \n        UserEntity currentUserPrincipal = (UserEntity) currentUser.getPrincipal();  \n  \n        return productsService.getByCode(code,currentUserPrincipal.getUser_uuid());  \n    }\n\n","java",[78],{"type":25,"tag":79,"props":80,"children":81},"code",{"__ignoreMap":7},[82,105,134,159,167,185,209,217,244,274,283,292,318,353,435,478,486,537],{"type":25,"tag":83,"props":84,"children":87},"span",{"class":85,"line":86},"line",1,[88,94,100],{"type":25,"tag":83,"props":89,"children":91},{"style":90},"--shiki-default:#24292EFF;--shiki-dark:#B392F0",[92],{"type":40,"value":93},"@",{"type":25,"tag":83,"props":95,"children":97},{"style":96},"--shiki-default:#D32F2F;--shiki-dark:#F97583",[98],{"type":40,"value":99},"RestController",{"type":25,"tag":83,"props":101,"children":102},{"style":90},[103],{"type":40,"value":104},"  \n",{"type":25,"tag":83,"props":106,"children":108},{"class":85,"line":107},2,[109,113,118,123,129],{"type":25,"tag":83,"props":110,"children":111},{"style":90},[112],{"type":40,"value":93},{"type":25,"tag":83,"props":114,"children":115},{"style":96},[116],{"type":40,"value":117},"RequestMapping",{"type":25,"tag":83,"props":119,"children":120},{"style":90},[121],{"type":40,"value":122},"(",{"type":25,"tag":83,"props":124,"children":126},{"style":125},"--shiki-default:#22863A;--shiki-dark:#FFAB70",[127],{"type":40,"value":128},"\"/api/products\"",{"type":25,"tag":83,"props":130,"children":131},{"style":90},[132],{"type":40,"value":133},")  \n",{"type":25,"tag":83,"props":135,"children":137},{"class":85,"line":136},3,[138,143,148,154],{"type":25,"tag":83,"props":139,"children":140},{"style":96},[141],{"type":40,"value":142},"public",{"type":25,"tag":83,"props":144,"children":145},{"style":96},[146],{"type":40,"value":147}," class",{"type":25,"tag":83,"props":149,"children":151},{"style":150},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[152],{"type":40,"value":153}," ProductsController",{"type":25,"tag":83,"props":155,"children":156},{"style":90},[157],{"type":40,"value":158}," {  \n",{"type":25,"tag":83,"props":160,"children":162},{"class":85,"line":161},4,[163],{"type":25,"tag":83,"props":164,"children":165},{"style":90},[166],{"type":40,"value":104},{"type":25,"tag":83,"props":168,"children":170},{"class":85,"line":169},5,[171,176,181],{"type":25,"tag":83,"props":172,"children":173},{"style":90},[174],{"type":40,"value":175},"    @",{"type":25,"tag":83,"props":177,"children":178},{"style":96},[179],{"type":40,"value":180},"Autowired",{"type":25,"tag":83,"props":182,"children":183},{"style":90},[184],{"type":40,"value":104},{"type":25,"tag":83,"props":186,"children":188},{"class":85,"line":187},6,[189,194,199,204],{"type":25,"tag":83,"props":190,"children":191},{"style":96},[192],{"type":40,"value":193},"    final",{"type":25,"tag":83,"props":195,"children":196},{"style":96},[197],{"type":40,"value":198}," private",{"type":25,"tag":83,"props":200,"children":201},{"style":96},[202],{"type":40,"value":203}," ProductsService",{"type":25,"tag":83,"props":205,"children":206},{"style":90},[207],{"type":40,"value":208}," productsService;  \n",{"type":25,"tag":83,"props":210,"children":212},{"class":85,"line":211},7,[213],{"type":25,"tag":83,"props":214,"children":215},{"style":90},[216],{"type":40,"value":104},{"type":25,"tag":83,"props":218,"children":220},{"class":85,"line":219},8,[221,226,230,234,239],{"type":25,"tag":83,"props":222,"children":223},{"style":96},[224],{"type":40,"value":225},"    public",{"type":25,"tag":83,"props":227,"children":228},{"style":150},[229],{"type":40,"value":153},{"type":25,"tag":83,"props":231,"children":232},{"style":90},[233],{"type":40,"value":122},{"type":25,"tag":83,"props":235,"children":236},{"style":96},[237],{"type":40,"value":238},"ProductsService",{"type":25,"tag":83,"props":240,"children":241},{"style":90},[242],{"type":40,"value":243}," productsService){  \n",{"type":25,"tag":83,"props":245,"children":247},{"class":85,"line":246},9,[248,254,260,265,270],{"type":25,"tag":83,"props":249,"children":251},{"style":250},"--shiki-default:#1976D2;--shiki-dark:#79B8FF",[252],{"type":40,"value":253},"        this",{"type":25,"tag":83,"props":255,"children":257},{"style":256},"--shiki-default:#212121;--shiki-dark:#BBBBBB",[258],{"type":40,"value":259},".",{"type":25,"tag":83,"props":261,"children":262},{"style":250},[263],{"type":40,"value":264},"productsService",{"type":25,"tag":83,"props":266,"children":267},{"style":96},[268],{"type":40,"value":269}," =",{"type":25,"tag":83,"props":271,"children":272},{"style":90},[273],{"type":40,"value":208},{"type":25,"tag":83,"props":275,"children":277},{"class":85,"line":276},10,[278],{"type":25,"tag":83,"props":279,"children":280},{"style":90},[281],{"type":40,"value":282},"    }  \n",{"type":25,"tag":83,"props":284,"children":286},{"class":85,"line":285},11,[287],{"type":25,"tag":83,"props":288,"children":289},{"style":90},[290],{"type":40,"value":291},"   \n",{"type":25,"tag":83,"props":293,"children":295},{"class":85,"line":294},12,[296,300,305,309,314],{"type":25,"tag":83,"props":297,"children":298},{"style":90},[299],{"type":40,"value":175},{"type":25,"tag":83,"props":301,"children":302},{"style":96},[303],{"type":40,"value":304},"GetMapping",{"type":25,"tag":83,"props":306,"children":307},{"style":90},[308],{"type":40,"value":122},{"type":25,"tag":83,"props":310,"children":311},{"style":125},[312],{"type":40,"value":313},"\"{code}\"",{"type":25,"tag":83,"props":315,"children":316},{"style":90},[317],{"type":40,"value":133},{"type":25,"tag":83,"props":319,"children":321},{"class":85,"line":320},13,[322,326,331,335,340,344,349],{"type":25,"tag":83,"props":323,"children":324},{"style":90},[325],{"type":40,"value":175},{"type":25,"tag":83,"props":327,"children":328},{"style":96},[329],{"type":40,"value":330},"ResponseStatus",{"type":25,"tag":83,"props":332,"children":333},{"style":90},[334],{"type":40,"value":122},{"type":25,"tag":83,"props":336,"children":337},{"style":250},[338],{"type":40,"value":339},"HttpStatus",{"type":25,"tag":83,"props":341,"children":342},{"style":256},[343],{"type":40,"value":259},{"type":25,"tag":83,"props":345,"children":346},{"style":250},[347],{"type":40,"value":348},"OK",{"type":25,"tag":83,"props":350,"children":351},{"style":90},[352],{"type":40,"value":133},{"type":25,"tag":83,"props":354,"children":356},{"class":85,"line":355},14,[357,361,366,371,376,381,385,390,395,400,405,410,415,420,425,430],{"type":25,"tag":83,"props":358,"children":359},{"style":96},[360],{"type":40,"value":225},{"type":25,"tag":83,"props":362,"children":363},{"style":96},[364],{"type":40,"value":365}," ProductEntity",{"type":25,"tag":83,"props":367,"children":368},{"style":150},[369],{"type":40,"value":370}," getProductsByCode",{"type":25,"tag":83,"props":372,"children":373},{"style":90},[374],{"type":40,"value":375},"(@",{"type":25,"tag":83,"props":377,"children":378},{"style":96},[379],{"type":40,"value":380},"PathVariable",{"type":25,"tag":83,"props":382,"children":383},{"style":90},[384],{"type":40,"value":122},{"type":25,"tag":83,"props":386,"children":387},{"style":125},[388],{"type":40,"value":389},"\"code\"",{"type":25,"tag":83,"props":391,"children":392},{"style":90},[393],{"type":40,"value":394},") ",{"type":25,"tag":83,"props":396,"children":397},{"style":96},[398],{"type":40,"value":399},"String",{"type":25,"tag":83,"props":401,"children":402},{"style":90},[403],{"type":40,"value":404}," code",{"type":25,"tag":83,"props":406,"children":407},{"style":256},[408],{"type":40,"value":409},",",{"type":25,"tag":83,"props":411,"children":412},{"style":96},[413],{"type":40,"value":414}," Authentication",{"type":25,"tag":83,"props":416,"children":417},{"style":90},[418],{"type":40,"value":419}," currentUser) ",{"type":25,"tag":83,"props":421,"children":422},{"style":96},[423],{"type":40,"value":424},"throws",{"type":25,"tag":83,"props":426,"children":427},{"style":96},[428],{"type":40,"value":429}," ProductNotFoundException",{"type":25,"tag":83,"props":431,"children":432},{"style":90},[433],{"type":40,"value":434},"{  \n",{"type":25,"tag":83,"props":436,"children":438},{"class":85,"line":437},15,[439,444,449,454,459,464,468,473],{"type":25,"tag":83,"props":440,"children":441},{"style":96},[442],{"type":40,"value":443},"        UserEntity",{"type":25,"tag":83,"props":445,"children":446},{"style":90},[447],{"type":40,"value":448}," currentUserPrincipal ",{"type":25,"tag":83,"props":450,"children":451},{"style":96},[452],{"type":40,"value":453},"=",{"type":25,"tag":83,"props":455,"children":456},{"style":90},[457],{"type":40,"value":458}," (UserEntity) ",{"type":25,"tag":83,"props":460,"children":461},{"style":250},[462],{"type":40,"value":463},"currentUser",{"type":25,"tag":83,"props":465,"children":466},{"style":256},[467],{"type":40,"value":259},{"type":25,"tag":83,"props":469,"children":470},{"style":150},[471],{"type":40,"value":472},"getPrincipal",{"type":25,"tag":83,"props":474,"children":475},{"style":90},[476],{"type":40,"value":477},"();  \n",{"type":25,"tag":83,"props":479,"children":481},{"class":85,"line":480},16,[482],{"type":25,"tag":83,"props":483,"children":484},{"style":90},[485],{"type":40,"value":104},{"type":25,"tag":83,"props":487,"children":489},{"class":85,"line":488},17,[490,495,500,504,509,514,518,523,527,532],{"type":25,"tag":83,"props":491,"children":492},{"style":96},[493],{"type":40,"value":494},"        return",{"type":25,"tag":83,"props":496,"children":497},{"style":250},[498],{"type":40,"value":499}," productsService",{"type":25,"tag":83,"props":501,"children":502},{"style":256},[503],{"type":40,"value":259},{"type":25,"tag":83,"props":505,"children":506},{"style":150},[507],{"type":40,"value":508},"getByCode",{"type":25,"tag":83,"props":510,"children":511},{"style":90},[512],{"type":40,"value":513},"(code",{"type":25,"tag":83,"props":515,"children":516},{"style":256},[517],{"type":40,"value":409},{"type":25,"tag":83,"props":519,"children":520},{"style":250},[521],{"type":40,"value":522},"currentUserPrincipal",{"type":25,"tag":83,"props":524,"children":525},{"style":256},[526],{"type":40,"value":259},{"type":25,"tag":83,"props":528,"children":529},{"style":150},[530],{"type":40,"value":531},"getUser_uuid",{"type":25,"tag":83,"props":533,"children":534},{"style":90},[535],{"type":40,"value":536},"());  \n",{"type":25,"tag":83,"props":538,"children":540},{"class":85,"line":539},18,[541],{"type":25,"tag":83,"props":542,"children":543},{"style":90},[544],{"type":40,"value":545},"    }\n",{"type":25,"tag":547,"props":548,"children":549},"style",{},[550],{"type":40,"value":551},"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":107,"depth":107,"links":553},[554],{"id":37,"depth":107,"text":41,"children":555},[556],{"id":51,"depth":136,"text":54},"markdown","content:posts:Coding Every Day Until I Get a Job - Day 12.md","content","posts/Coding Every Day Until I Get a Job - Day 12.md","md",1737381743830]