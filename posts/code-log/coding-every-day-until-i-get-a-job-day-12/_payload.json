[{"data":1,"prerenderedAt":552},["ShallowReactive",2],{"content-query-CSordde71z":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"head":10,"publishedAt":18,"tags":14,"collections":19,"toc":20,"body":21,"_type":547,"_id":548,"_source":549,"_file":550,"_extension":551},"/posts/code-log/coding-every-day-until-i-get-a-job-day-12","code-log",false,"","Code Log - Day 12","Code Log Day 12",{"meta":11},[12,15],{"name":13,"content":14},"keywords","challenge,daily-coding,java",{"name":16,"content":17},"author","Caio Prado","2025-01-19T17:15:00.000Z","Code Log",true,{"type":22,"children":23,"toc":542},"root",[24,34,42,48,55,71,536],{"type":25,"tag":26,"props":27,"children":28},"element","h1",{"id":7},[29],{"type":25,"tag":30,"props":31,"children":33},"binding",{"value":32},"$doc.title",[],{"type":25,"tag":35,"props":36,"children":38},"h2",{"id":37},"log",[39],{"type":40,"value":41},"text","Log",{"type":25,"tag":43,"props":44,"children":45},"p",{},[46],{"type":40,"value":47},"Today i worked on a side project.",{"type":25,"tag":49,"props":50,"children":52},"h3",{"id":51},"side-project",[53],{"type":40,"value":54},"Side Project",{"type":25,"tag":43,"props":56,"children":57},{},[58,60,69],{"type":40,"value":59},"On the ",{"type":25,"tag":61,"props":62,"children":66},"a",{"href":63,"rel":64},"https://github.com/caioopr/ixtore",[65],"nofollow",[67],{"type":40,"value":68},"Ixtore",{"type":40,"value":70}," project, i needed to check if the id of the user trying to call some product-related operation was the same as the user id referenced by the product. Since i'm using Spring Security, in every controller route handler method, i have access to an object of type \"Authentication\" as a parameter, in which i can retrieve the current logged user's id, and pass it to the service layer method, so it can perform the verification.",{"type":25,"tag":72,"props":73,"children":77},"pre",{"className":74,"code":75,"language":76,"meta":7,"style":7},"language-java shiki shiki-themes min-light min-dark","@RestController\n@RequestMapping(\"/api/products\")\npublic class ProductsController {\n\n    @Autowired\n    final private ProductsService productsService;\n\n    public ProductsController(ProductsService productsService){\n        this.productsService = productsService;\n    }\n\n    @GetMapping(\"{code}\")\n    @ResponseStatus(HttpStatus.OK)\n    public ProductEntity getProductsByCode(@PathVariable(\"code\") String code, Authentication currentUser) throws ProductNotFoundException{\n        UserEntity currentUserPrincipal = (UserEntity) currentUser.getPrincipal();\n\n        return productsService.getByCode(code,currentUserPrincipal.getUser_uuid());\n    }\n\n","java",[78],{"type":25,"tag":79,"props":80,"children":81},"code",{"__ignoreMap":7},[82,100,129,154,163,177,201,209,236,266,275,283,309,344,426,469,477,528],{"type":25,"tag":83,"props":84,"children":87},"span",{"class":85,"line":86},"line",1,[88,94],{"type":25,"tag":83,"props":89,"children":91},{"style":90},"--shiki-default:#24292EFF;--shiki-dark:#B392F0",[92],{"type":40,"value":93},"@",{"type":25,"tag":83,"props":95,"children":97},{"style":96},"--shiki-default:#D32F2F;--shiki-dark:#F97583",[98],{"type":40,"value":99},"RestController\n",{"type":25,"tag":83,"props":101,"children":103},{"class":85,"line":102},2,[104,108,113,118,124],{"type":25,"tag":83,"props":105,"children":106},{"style":90},[107],{"type":40,"value":93},{"type":25,"tag":83,"props":109,"children":110},{"style":96},[111],{"type":40,"value":112},"RequestMapping",{"type":25,"tag":83,"props":114,"children":115},{"style":90},[116],{"type":40,"value":117},"(",{"type":25,"tag":83,"props":119,"children":121},{"style":120},"--shiki-default:#22863A;--shiki-dark:#FFAB70",[122],{"type":40,"value":123},"\"/api/products\"",{"type":25,"tag":83,"props":125,"children":126},{"style":90},[127],{"type":40,"value":128},")\n",{"type":25,"tag":83,"props":130,"children":132},{"class":85,"line":131},3,[133,138,143,149],{"type":25,"tag":83,"props":134,"children":135},{"style":96},[136],{"type":40,"value":137},"public",{"type":25,"tag":83,"props":139,"children":140},{"style":96},[141],{"type":40,"value":142}," class",{"type":25,"tag":83,"props":144,"children":146},{"style":145},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[147],{"type":40,"value":148}," ProductsController",{"type":25,"tag":83,"props":150,"children":151},{"style":90},[152],{"type":40,"value":153}," {\n",{"type":25,"tag":83,"props":155,"children":157},{"class":85,"line":156},4,[158],{"type":25,"tag":83,"props":159,"children":160},{"emptyLinePlaceholder":20},[161],{"type":40,"value":162},"\n",{"type":25,"tag":83,"props":164,"children":166},{"class":85,"line":165},5,[167,172],{"type":25,"tag":83,"props":168,"children":169},{"style":90},[170],{"type":40,"value":171},"    @",{"type":25,"tag":83,"props":173,"children":174},{"style":96},[175],{"type":40,"value":176},"Autowired\n",{"type":25,"tag":83,"props":178,"children":180},{"class":85,"line":179},6,[181,186,191,196],{"type":25,"tag":83,"props":182,"children":183},{"style":96},[184],{"type":40,"value":185},"    final",{"type":25,"tag":83,"props":187,"children":188},{"style":96},[189],{"type":40,"value":190}," private",{"type":25,"tag":83,"props":192,"children":193},{"style":96},[194],{"type":40,"value":195}," ProductsService",{"type":25,"tag":83,"props":197,"children":198},{"style":90},[199],{"type":40,"value":200}," productsService;\n",{"type":25,"tag":83,"props":202,"children":204},{"class":85,"line":203},7,[205],{"type":25,"tag":83,"props":206,"children":207},{"emptyLinePlaceholder":20},[208],{"type":40,"value":162},{"type":25,"tag":83,"props":210,"children":212},{"class":85,"line":211},8,[213,218,222,226,231],{"type":25,"tag":83,"props":214,"children":215},{"style":96},[216],{"type":40,"value":217},"    public",{"type":25,"tag":83,"props":219,"children":220},{"style":145},[221],{"type":40,"value":148},{"type":25,"tag":83,"props":223,"children":224},{"style":90},[225],{"type":40,"value":117},{"type":25,"tag":83,"props":227,"children":228},{"style":96},[229],{"type":40,"value":230},"ProductsService",{"type":25,"tag":83,"props":232,"children":233},{"style":90},[234],{"type":40,"value":235}," productsService){\n",{"type":25,"tag":83,"props":237,"children":239},{"class":85,"line":238},9,[240,246,252,257,262],{"type":25,"tag":83,"props":241,"children":243},{"style":242},"--shiki-default:#1976D2;--shiki-dark:#79B8FF",[244],{"type":40,"value":245},"        this",{"type":25,"tag":83,"props":247,"children":249},{"style":248},"--shiki-default:#212121;--shiki-dark:#BBBBBB",[250],{"type":40,"value":251},".",{"type":25,"tag":83,"props":253,"children":254},{"style":242},[255],{"type":40,"value":256},"productsService",{"type":25,"tag":83,"props":258,"children":259},{"style":96},[260],{"type":40,"value":261}," =",{"type":25,"tag":83,"props":263,"children":264},{"style":90},[265],{"type":40,"value":200},{"type":25,"tag":83,"props":267,"children":269},{"class":85,"line":268},10,[270],{"type":25,"tag":83,"props":271,"children":272},{"style":90},[273],{"type":40,"value":274},"    }\n",{"type":25,"tag":83,"props":276,"children":278},{"class":85,"line":277},11,[279],{"type":25,"tag":83,"props":280,"children":281},{"emptyLinePlaceholder":20},[282],{"type":40,"value":162},{"type":25,"tag":83,"props":284,"children":286},{"class":85,"line":285},12,[287,291,296,300,305],{"type":25,"tag":83,"props":288,"children":289},{"style":90},[290],{"type":40,"value":171},{"type":25,"tag":83,"props":292,"children":293},{"style":96},[294],{"type":40,"value":295},"GetMapping",{"type":25,"tag":83,"props":297,"children":298},{"style":90},[299],{"type":40,"value":117},{"type":25,"tag":83,"props":301,"children":302},{"style":120},[303],{"type":40,"value":304},"\"{code}\"",{"type":25,"tag":83,"props":306,"children":307},{"style":90},[308],{"type":40,"value":128},{"type":25,"tag":83,"props":310,"children":312},{"class":85,"line":311},13,[313,317,322,326,331,335,340],{"type":25,"tag":83,"props":314,"children":315},{"style":90},[316],{"type":40,"value":171},{"type":25,"tag":83,"props":318,"children":319},{"style":96},[320],{"type":40,"value":321},"ResponseStatus",{"type":25,"tag":83,"props":323,"children":324},{"style":90},[325],{"type":40,"value":117},{"type":25,"tag":83,"props":327,"children":328},{"style":242},[329],{"type":40,"value":330},"HttpStatus",{"type":25,"tag":83,"props":332,"children":333},{"style":248},[334],{"type":40,"value":251},{"type":25,"tag":83,"props":336,"children":337},{"style":242},[338],{"type":40,"value":339},"OK",{"type":25,"tag":83,"props":341,"children":342},{"style":90},[343],{"type":40,"value":128},{"type":25,"tag":83,"props":345,"children":347},{"class":85,"line":346},14,[348,352,357,362,367,372,376,381,386,391,396,401,406,411,416,421],{"type":25,"tag":83,"props":349,"children":350},{"style":96},[351],{"type":40,"value":217},{"type":25,"tag":83,"props":353,"children":354},{"style":96},[355],{"type":40,"value":356}," ProductEntity",{"type":25,"tag":83,"props":358,"children":359},{"style":145},[360],{"type":40,"value":361}," getProductsByCode",{"type":25,"tag":83,"props":363,"children":364},{"style":90},[365],{"type":40,"value":366},"(@",{"type":25,"tag":83,"props":368,"children":369},{"style":96},[370],{"type":40,"value":371},"PathVariable",{"type":25,"tag":83,"props":373,"children":374},{"style":90},[375],{"type":40,"value":117},{"type":25,"tag":83,"props":377,"children":378},{"style":120},[379],{"type":40,"value":380},"\"code\"",{"type":25,"tag":83,"props":382,"children":383},{"style":90},[384],{"type":40,"value":385},") ",{"type":25,"tag":83,"props":387,"children":388},{"style":96},[389],{"type":40,"value":390},"String",{"type":25,"tag":83,"props":392,"children":393},{"style":90},[394],{"type":40,"value":395}," code",{"type":25,"tag":83,"props":397,"children":398},{"style":248},[399],{"type":40,"value":400},",",{"type":25,"tag":83,"props":402,"children":403},{"style":96},[404],{"type":40,"value":405}," Authentication",{"type":25,"tag":83,"props":407,"children":408},{"style":90},[409],{"type":40,"value":410}," currentUser) ",{"type":25,"tag":83,"props":412,"children":413},{"style":96},[414],{"type":40,"value":415},"throws",{"type":25,"tag":83,"props":417,"children":418},{"style":96},[419],{"type":40,"value":420}," ProductNotFoundException",{"type":25,"tag":83,"props":422,"children":423},{"style":90},[424],{"type":40,"value":425},"{\n",{"type":25,"tag":83,"props":427,"children":429},{"class":85,"line":428},15,[430,435,440,445,450,455,459,464],{"type":25,"tag":83,"props":431,"children":432},{"style":96},[433],{"type":40,"value":434},"        UserEntity",{"type":25,"tag":83,"props":436,"children":437},{"style":90},[438],{"type":40,"value":439}," currentUserPrincipal ",{"type":25,"tag":83,"props":441,"children":442},{"style":96},[443],{"type":40,"value":444},"=",{"type":25,"tag":83,"props":446,"children":447},{"style":90},[448],{"type":40,"value":449}," (UserEntity) ",{"type":25,"tag":83,"props":451,"children":452},{"style":242},[453],{"type":40,"value":454},"currentUser",{"type":25,"tag":83,"props":456,"children":457},{"style":248},[458],{"type":40,"value":251},{"type":25,"tag":83,"props":460,"children":461},{"style":145},[462],{"type":40,"value":463},"getPrincipal",{"type":25,"tag":83,"props":465,"children":466},{"style":90},[467],{"type":40,"value":468},"();\n",{"type":25,"tag":83,"props":470,"children":472},{"class":85,"line":471},16,[473],{"type":25,"tag":83,"props":474,"children":475},{"emptyLinePlaceholder":20},[476],{"type":40,"value":162},{"type":25,"tag":83,"props":478,"children":480},{"class":85,"line":479},17,[481,486,491,495,500,505,509,514,518,523],{"type":25,"tag":83,"props":482,"children":483},{"style":96},[484],{"type":40,"value":485},"        return",{"type":25,"tag":83,"props":487,"children":488},{"style":242},[489],{"type":40,"value":490}," productsService",{"type":25,"tag":83,"props":492,"children":493},{"style":248},[494],{"type":40,"value":251},{"type":25,"tag":83,"props":496,"children":497},{"style":145},[498],{"type":40,"value":499},"getByCode",{"type":25,"tag":83,"props":501,"children":502},{"style":90},[503],{"type":40,"value":504},"(code",{"type":25,"tag":83,"props":506,"children":507},{"style":248},[508],{"type":40,"value":400},{"type":25,"tag":83,"props":510,"children":511},{"style":242},[512],{"type":40,"value":513},"currentUserPrincipal",{"type":25,"tag":83,"props":515,"children":516},{"style":248},[517],{"type":40,"value":251},{"type":25,"tag":83,"props":519,"children":520},{"style":145},[521],{"type":40,"value":522},"getUser_uuid",{"type":25,"tag":83,"props":524,"children":525},{"style":90},[526],{"type":40,"value":527},"());\n",{"type":25,"tag":83,"props":529,"children":531},{"class":85,"line":530},18,[532],{"type":25,"tag":83,"props":533,"children":534},{"style":90},[535],{"type":40,"value":274},{"type":25,"tag":537,"props":538,"children":539},"style",{},[540],{"type":40,"value":541},"html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":7,"searchDepth":102,"depth":102,"links":543},[544],{"id":37,"depth":102,"text":41,"children":545},[546],{"id":51,"depth":131,"text":54},"markdown","content:posts:Code Log:Coding Every Day Until I Get a Job - Day 12.md","content","posts/Code Log/Coding Every Day Until I Get a Job - Day 12.md","md",1738522800982]