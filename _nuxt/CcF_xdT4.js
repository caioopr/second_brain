import{_ as h}from"./B3UYA6sO.js";import{_ as y,h as v,g as b,i as x,m as w,u as n,e as r,o as _,c as d,j as k,p as D,v as A,a as N,w as S,t as f,F as B}from"./Dtaac8rE.js";import{u as q,q as C}from"./42QxghXC.js";import"./kUxjys2F.js";const O={class:"not-prose font-mono"},T={class:"text-gray-400 dark:text-gray-500"},F={__name:"blog-posts",props:{limit:{type:Number,default:null},tagsOn:{type:Boolean,default:!1}},async setup(l){let a,u;const i=l,{data:c}=([a,u]=v(()=>q("blog-list",()=>{const t=C("/posts").where({_path:{$ne:"/posts"}}).only(["_path","title","publishedAt","tags"]).sort({publishedAt:-1});return i.limit&&t.limit(i.limit),t.find()})),a=await a,u(),a),o=b("selectedTags"),p=x(()=>{if(!c.value)return[];const t=[];for(const e of c.value)e.postDate=new Date(e.publishedAt).toJSON().slice(0,10),t.push(e);return t});function m(t){if(o.value){for(let e of t)if(o.value.includes(e))return!0;return!1}}return(t,e)=>{const g=h;return w(t.$slots,"default",{posts:n(p)},()=>[r("section",O,[r("ul",null,[(_(!0),d(B,null,k(n(p),s=>D((_(),d("li",{key:s._path},[N(g,{to:s._path,class:"column group hover:bg-gray-100 dark:hover:bg-gray-800"},{default:S(()=>[r("div",T,f(s.postDate),1),r("div",null,f(s.title),1)]),_:2},1032,["to"])])),[[A,!l.tagsOn||n(o)&&n(o).length===0||m(s.tags.split(","))]])),128))])])],!0)}}},E=y(F,[["__scopeId","data-v-1a40cba8"]]);export{E as default};
