import{_ as f}from"./nuxt-link.PCBer_Sc.js";import{u as h,q as y}from"./query.PUqJjOdL.js";import{_ as g,j as x,k as b,l as k,e as a,o as i,c,h as v,u as p,F as w,a as A,w as D,t as _}from"./entry.ZrnPSl85.js";import"./preview.cRImxqiI.js";const N={class:"not-prose font-mono"},q={class:"text-gray-400 dark:text-gray-500"},B={__name:"blog-posts",props:{limit:{type:Number,default:null}},async setup(d){let e,n;const r=d,{data:l}=([e,n]=x(()=>h("blog-list",()=>{const t=y("/posts").where({_path:{$ne:"/posts"}}).only(["_path","title","publishedAt","tags"]).sort({publishedAt:-1});return r.limit&&t.limit(r.limit),t.find()})),e=await e,n(),e),u=b(()=>{if(!l.value)return[];const t=[];for(const s of l.value)s.postDate=new Date(s.publishedAt).toJSON().slice(0,10),t.push(s);return t});return(t,s)=>{const m=f;return k(t.$slots,"default",{posts:p(u)},()=>[a("section",N,[a("ul",null,[(i(!0),c(w,null,v(p(u),o=>(i(),c("li",{key:o._path},[A(m,{to:o._path,class:"column group hover:bg-gray-100 dark:hover:bg-gray-800"},{default:D(()=>[a("div",q,_(o.postDate),1),a("div",null,_(o.title),1)]),_:2},1032,["to"])]))),128))])])],!0)}}},V=g(B,[["__scopeId","data-v-ed54f280"]]);export{V as default};
