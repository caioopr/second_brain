import{_ as h}from"./Dzq5k5qi.js";import{_ as y,g as v,h as b,i as w,j as x,u as r,b as n,o as p,c as _,k,l as D,v as A,a as B,w as N,t as d,F as S}from"./CMp_UR4U.js";import{u as q,q as C}from"./9JLk3ELK.js";import"./cECPJHly.js";const O={class:"not-prose font-mono"},T={class:"text-gray-400 dark:text-gray-500"},F={__name:"latest-blog-posts",props:{limit:{type:Number,default:0},tagsOn:{type:Boolean,default:!1}},async setup(l){let a,u;const f=l,{data:i}=([a,u]=v(()=>q("latest-posts",()=>{const t=C("/posts").where({_path:{$ne:"/posts"}}).only(["_path","title","publishedAt","tags"]).sort({publishedAt:-1});return t.limit(f.limit),t.find()})),a=await a,u(),a),o=b("selectedTags"),c=w(()=>{if(!i.value)return[];const t=[];for(const e of i.value)e.postDate=new Date(e.publishedAt).toJSON().slice(0,10),t.push(e);return t});function g(t){if(o.value){for(let e of t)if(o.value.includes(e))return!0;return!1}}return(t,e)=>{const m=h;return x(t.$slots,"default",{posts:r(c)},()=>[n("section",O,[n("ul",null,[(p(!0),_(S,null,k(r(c),s=>D((p(),_("li",{key:s._path},[B(m,{to:s._path,class:"column group hover:bg-gray-100 dark:hover:bg-gray-800"},{default:N(()=>[n("div",T,d(s.postDate),1),n("div",null,d(s.title),1)]),_:2},1032,["to"])])),[[A,!l.tagsOn||r(o)&&r(o).length===0||g(s.tags.split(","))]])),128))])])],!0)}}},E=y(F,[["__scopeId","data-v-55037501"]]);export{E as default};
